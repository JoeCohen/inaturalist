<%- optionscol ||= nil -%>
<%- list ||= form_fields ||= @list -%>
<%- content_for(:extracss) do -%>
  <style type="text/css">
    .place_id_field .chooser {width:300px;}
  </style>
<%- end -%>
<%- content_for(:extrajs) do -%>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.place_id_field .chooser').chooser({
        collectionUrl: '/places/autocomplete.json?with_geom=t',
        resourceUrl: '/places/{{id}}.json?partial=autocomplete_item'
      })
    })
  </script>
<%- end -%>
<div class="column span-12">
  <%= f.text_field :title, class: "text", label: t(:title).humanize %>
  <%= f.text_area :description, :label=>t(:description) %>
</div>
<div class="column span-12 last">
  <% if optionscol -%>
    <%= optionscol %>
  <% else -%>
    <div id="rankcol" class="column span-12 last">
      <h3><%= t :rank_restrictions %></h3>
      <%= f.radio_button :rank_rule, "any", :label => t(:allow_any), :label_after => true %>
      <%= f.radio_button :rank_rule, "species?", :label => t(:only_species), :label_after => true %>
      <%= f.radio_button :rank_rule, "species_or_lower?", :label => t(:only_species_and_subspecies), :label_after => true %>

      <h3><%= t :select_photos_to_display %></h3>
      <%= f.radio_button :show_obs_photos, "true", :label => t(:show_observation_photos), :label_after => true %>
      <%= f.radio_button :show_obs_photos, "false", :label => t(:show_default_taxon_photos), :label_after => true %>
    </div>
  <% end -%>
</div>
